# PymRMRe

## Description
Feature selection is one of the main challenges in analyzing high-throughput genomic data. Minimum redundancy maximum relevance (mRMR) is a particularly fast feature selection method for finding a set of both relevant and complementary features. The Pymrmre package, extend the mRMR technique by using an ensemble approach to better explore the feature space and build more robust predictors. To deal with the computational complexity of the ensemble approach, the main functions of the package are implemented and parallelized in C++ using openMP Application Programming Interface. The package also supports making best selections with some fixed-selected features.

## Prerequisite
`
Python(>=3.6.0)
`
<br>
`
Cython(>=0.29.12)
`
<br>
`
numpy(>=1.16.4)
`
<br>
`
pandas(>=0.25.0)
`


## Installation
`
pip install Pymrmre
`

## Insturctions

Two primary functions are provided in this package currently:

* mrmr_ensemble: It provides the ensemble (multiple) solutions of feature selection given the input of feature dataset and target column, it supports the feature selection with preselection as well. 
  *  :param *features*: Pandas dataframe, the input dataset
  *  :param *target_features*: List, the list of target variables (column names)
  *  :param *feature_types*: List, the feature types of features
  *  :param *solution_length*: Integer, the number of features contained in one solution
  *  :param *solution_count*: Integer, the number of solutions to be returned, the default is 1
  *  :param *fixed_features_count*: Integer, the number of features which work as the preselction (counted from the start)
  *  :param *estimator*: String, the way of computing continuous estimators, the default is Pearson
  *  :param *return_index*: Boolean, to determine whether the solution contains the indices or column names of selected features, the default is False
  *  :param *return_with_fixed*: Boolean, to determine whether the solution contains the fixed selected features, the default is True
  *  :return: Pandas series, the solutions of selected features
  



Example code:

`
import pandas as pd
`
<br>
`
from Pymrmre import mrmr
`

Load the input data and target variable, suppose for input X we have ten features (*f1*, *f2*, ..., *f10*) and one target (*y*):

`
df = pd.read_csv('train.csv')
`
<br>

Suppose we want to generate 3 solutions, where each solution has 5 features. We want to see *f1* exists in all solutions (preselection), and we know that *f4* and *f5* are categorical variables as well.

In first step, you need to build the *feature_types* parameters. The continuous (numeric) variable, discrete (categorical) variable, survival event and time, is respectively 0, 1, 2, 3. Do not forget the y should be also counted in as well. So in this case, the feature types list is:

`
feature_types = [0,0,0,1,1,0,0,0,0,0,0]
`
<br>

Then, if you want some preselection for your solution, you need to set the *fixed_features_count* = *n* , which means you will count the first n as preselction, these features will exist in every solution. 

`
fixed_features_count = 1
`
<br>

The code to use the *mrmr_emsemble* to generate solutions:

`
solutions = mrmr.mrmr_ensemble(features=X,targets_features=['y'], feature_types = feature_types, solution_length=5,solution_count=3,fixed_features_count=fixed_features_count)
`
<br>

Because the solution we generated is of the type Pandas series, which has the target variable name as column header. To access the contents of all three solutions, the code is like this:

`
solutions.iloc[0]
`
<br>

To access one of the solutions, the code is like this (i is 0 - 2 here since we generate 3 solutions here):

`
solutions.iloc[0][i]
`
<br>


**Note**: In next version, we will optimize the interface and make it more user-friendly. The feature types will be generated by the function automatically, which only requires you to input the categorical or survival feature names. Similarly, the function will not need the fixed_features_count parameter to generate preselection, we will ask you to input the feature names which you regard as the preselection. The next version will be commited to PyPI soon.
